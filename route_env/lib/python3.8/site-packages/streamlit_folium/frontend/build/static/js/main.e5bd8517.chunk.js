(this.webpackJsonpstreamlit_folium=this.webpackJsonpstreamlit_folium||[]).push([[0],{7:function(e,_,t){"use strict";t.d(_,"a",(function(){return i}));var a=6378137;function n(e){return e*Math.PI/180}function o(e){return 180*e/Math.PI}function r(e,_,t,a){var r=n(e[1]),i=n(e[0]),l=_/t,d=Math.asin(Math.sin(r)*Math.cos(l)+Math.cos(r)*Math.sin(l)*Math.cos(a));return[o(i+Math.atan2(Math.sin(a)*Math.sin(l)*Math.cos(r),Math.cos(l)-Math.sin(r)*Math.sin(d))),o(d)]}function i(e,_){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,n=[],o=0;o<t;++o)n.push(r(e,_,a,2*Math.PI*o/t));return n.push(n[0]),{type:"Polygon",coordinates:[n]}}},9:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _home_runner_work_streamlit_folium_streamlit_folium_streamlit_folium_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),streamlit_component_lib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),underscore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_circle_to_polygon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7);function onMapClick(e){window.__GLOBAL_DATA__.lat_lng_clicked=e.latlng,debouncedUpdateComponentValue(window.map)}var debouncedUpdateComponentValue=Object(underscore__WEBPACK_IMPORTED_MODULE_2__.a)(updateComponentValue,250);function updateComponentValue(e){var _=window.__GLOBAL_DATA__,t=_.previous_data,a=e.getBounds(),n=e.getZoom(),o={last_clicked:_.lat_lng_clicked,last_object_clicked:_.last_object_clicked,all_drawings:_.all_drawings,last_active_drawing:_.last_active_drawing,bounds:a,zoom:n,last_circle_radius:_.last_circle_radius,last_circle_polygon:_.last_circle_polygon,center:e.getCenter()},r={};r=_.returned_objects?Object.fromEntries(Object.entries(o).filter((function(e){var t=Object(_home_runner_work_streamlit_folium_streamlit_folium_streamlit_folium_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__.a)(e,1)[0];return _.returned_objects.includes(t)}))):o,JSON.stringify(t)!==JSON.stringify(r)&&(_.previous_data=r,streamlit_component_lib__WEBPACK_IMPORTED_MODULE_1__.a.setComponentValue(r))}function onMapMove(e){debouncedUpdateComponentValue(window.map)}function onDraw(e){var _=window.__GLOBAL_DATA__,t=e.layerType,a=e.layer;if("circle"===t){var n=[a._latlng.lng,a._latlng.lat],o=a.options.radius,r=Object(_circle_to_polygon__WEBPACK_IMPORTED_MODULE_3__.a)(n,o);_.last_circle_radius=o/1e3,_.last_circle_polygon=r}return onLayerClick(e)}function onLayerClick(e){var _=window.__GLOBAL_DATA__;_.last_object_clicked=e.latlng;var t=[];e.layer&&e.layer.toGeoJSON&&(_.last_active_drawing=e.layer.toGeoJSON()),window.drawnItems.toGeoJSON&&(t=window.drawnItems.toGeoJSON().features),_.all_drawings=t,debouncedUpdateComponentValue(window.map)}function onRender(event){var data=event.detail,script=data.args.script,height=data.args.height,width=data.args.width,html=data.args.html,returned_objects=data.args.returned_objects,_default=data.args.default,zoom=data.args.zoom,center=data.args.center,feature_group=data.args.feature_group;if(!window.map){var parent_div=document.getElementById("parent"),div1=document.getElementById("map_div"),div2=document.getElementById("map_div2");if(div2&&(div2.style.height="".concat(height,"px"),div2.style.width="".concat(width,"px")),div1){if(div1.style.height="".concat(height,"px"),div1.style.width="".concat(width,"px"),-1!==script.indexOf("document.getElementById('export')")){var a=document.createElement("a");a.href="#",a.id="export",a.innerHTML="Export",document.body.appendChild(a)}var render_script=document.createElement("script");window.__GLOBAL_DATA__={lat_lng_clicked:null,last_object_clicked:null,all_drawings:null,last_active_drawing:null,zoom:null,last_circle_radius:null,last_circle_polygon:null,returned_objects:returned_objects,previous_data:_default,last_zoom:null,last_center:null,last_feature_group:null},-1!==script.indexOf("map_div2")&&(null===parent_div||void 0===parent_div||parent_div.classList.remove("single"),null===parent_div||void 0===parent_div||parent_div.classList.add("double")),render_script.innerHTML=script+"window.map = map_div; window.initComponent(map_div);",document.body.appendChild(render_script);var html_div=document.createElement("div");html_div.innerHTML=html,document.body.appendChild(html_div)}}if(feature_group&&feature_group!==window.__GLOBAL_DATA__.last_feature_group)for(var key in window.feature_group&&window.map.removeLayer(window.feature_group),eval(feature_group),window.__GLOBAL_DATA__.last_feature_group=feature_group,window.map._layers){var layer=window.map._layers[key];layer.off("click",onLayerClick),layer.on("click",onLayerClick)}zoom&&zoom!==window.__GLOBAL_DATA__.last_zoom&&(window.map.setZoom(zoom),window.__GLOBAL_DATA__.last_zoom=zoom),center&&JSON.stringify(center)!==JSON.stringify(window.__GLOBAL_DATA__.last_center)&&(window.map.panTo(center),window.__GLOBAL_DATA__.last_center=center)}window.initComponent=function(e){for(var _ in e.on("click",onMapClick),e.on("moveend",onMapMove),e._layers){e._layers[_].on("click",onLayerClick)}e.on("draw:created",onDraw),e.on("draw:edited",onDraw),e.on("draw:deleted",onDraw),streamlit_component_lib__WEBPACK_IMPORTED_MODULE_1__.a.setFrameHeight(),updateComponentValue(e)},streamlit_component_lib__WEBPACK_IMPORTED_MODULE_1__.a.events.addEventListener(streamlit_component_lib__WEBPACK_IMPORTED_MODULE_1__.a.RENDER_EVENT,onRender),streamlit_component_lib__WEBPACK_IMPORTED_MODULE_1__.a.setComponentReady(),streamlit_component_lib__WEBPACK_IMPORTED_MODULE_1__.a.setFrameHeight()}},[[9,1,2]]]);
//# sourceMappingURL=main.e5bd8517.chunk.js.map