(this["webpackJsonpstreamlit-browser"]=this["webpackJsonpstreamlit-browser"]||[]).push([[20],{3854:function(e,t,n){!function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(t),a=r(n);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},i=Object.keys(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r){return new(n=n||Promise)((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(o,l)}c((r=r.apply(e,t||[])).next())}))}function m(e,t){var n,r,i,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o={next:l(0),throw:l(1),return:l(2)};return"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=0<(i=a.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}(arguments[t]));return e}var b=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function h(e,t){var n,r=function(e){var t,n,r=e.name;return r&&-1!==r.lastIndexOf(".")&&!e.type&&(t=r.split(".").pop().toLowerCase(),(n=b.get(t))&&Object.defineProperty(e,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})),e}(e);return"string"!=typeof r.path&&(n=e.webkitRelativePath,Object.defineProperty(r,"path",{value:"string"==typeof t?t:"string"==typeof n&&0<n.length?n:e.name,writable:!1,configurable:!1,enumerable:!0})),r}var y=[".DS_Store","Thumbs.db"];function j(e){return e.filter((function(e){return-1===y.indexOf(e.name)}))}function x(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function O(e){if("function"!=typeof e.webkitGetAsEntry)return F(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?D(t):F(e)}function F(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=h(t);return Promise.resolve(n)}function w(e){return g(this,void 0,void 0,(function(){return m(this,(function(t){return[2,(e.isDirectory?D:function(e){return g(this,void 0,void 0,(function(){return m(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=h(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))})(e)]}))}))}function D(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return g(a,void 0,void 0,(function(){var a,o,l;return m(this,(function(c){switch(c.label){case 0:if(t.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=c.sent(),e(a),[3,4];case 3:return o=c.sent(),n(o),[3,4];case 4:return[3,6];case 5:l=Promise.all(t.map(w)),r.push(l),i(),c.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}var S,k,I=(function(e){e.__esModule=!0,e.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=e.type||"",a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}}((S={exports:{}}).exports),S.exports),z=(k=I)&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k,C=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},E=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},A=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},P={code:"too-many-files",message:"Too many files"};function M(e,t){var n="application/x-moz-file"===e.type||z(e,t);return[n,n?null:C(t)]}function B(e,t,n){if(L(e.size))if(L(t)&&L(n)){if(e.size>n)return[!1,E(n)];if(e.size<t)return[!1,A(t)]}else{if(L(t)&&e.size<t)return[!1,A(t)];if(L(n)&&e.size>n)return[!1,E(n)]}return[!0,null]}function L(e){return null!=e}function R(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function T(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):e.target&&e.target.files}function U(e){e.preventDefault()}function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!R(e)&&t&&t.apply(void 0,[e].concat(r)),R(e)}))}}var K=t.forwardRef((function(e,n){var r=e.children,a=X(s(e,["children"])),o=a.open,l=s(a,["open"]);return t.useImperativeHandle(n,(function(){return{open:o}}),[o]),i.default.createElement(t.Fragment,null,r(c(c({},l),{},{open:o})))})),H={disabled:!(K.displayName="Dropzone"),getFilesFromEvent:function(e){return g(this,void 0,void 0,(function(){return m(this,(function(t){return[2,e.dataTransfer&&e.dataTransfer?function(e,t){return g(this,void 0,void 0,(function(){var n;return m(this,(function(r){switch(r.label){case 0:return e.items?(n=x(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(O))]):[3,2];case 1:return[2,j(function e(t){return t.reduce((function(t,n){return v(t,Array.isArray(n)?e(n):[n])}),[])}(r.sent()))];case 2:return[2,j(x(e.files).map((function(e){return h(e)})))]}}))}))}(e.dataTransfer,e.type):(null!==(n=e).target&&n.target.files?x(n.target.files):[]).map((function(e){return h(e)}))];var n}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1};K.defaultProps=H;var V={isFocused:!(K.propTypes={children:a.default.func,accept:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),multiple:a.default.bool,preventDropOnDocument:a.default.bool,noClick:a.default.bool,noKeyboard:a.default.bool,noDrag:a.default.bool,noDragEventsBubbling:a.default.bool,minSize:a.default.number,maxSize:a.default.number,maxFiles:a.default.number,disabled:a.default.bool,getFilesFromEvent:a.default.func,onFileDialogCancel:a.default.func,onDragEnter:a.default.func,onDragLeave:a.default.func,onDragOver:a.default.func,onDrop:a.default.func,onDropAccepted:a.default.func,onDropRejected:a.default.func}),isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function X(){function e(){K&&setTimeout((function(){z.current&&(z.current.files.length||(A({type:"closeDialog"}),"function"==typeof O&&O()))}),300)}var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=c(c({},H),n),i=r.accept,a=r.disabled,l=r.getFilesFromEvent,d=r.maxSize,p=r.minSize,g=r.multiple,m=r.maxFiles,v=r.onDragEnter,b=r.onDragLeave,h=r.onDragOver,y=r.onDrop,j=r.onDropAccepted,x=r.onDropRejected,O=r.onFileDialogCancel,F=r.preventDropOnDocument,w=r.noClick,D=r.noKeyboard,S=r.noDrag,k=r.noDragEventsBubbling,I=t.useRef(null),z=t.useRef(null),C=u(t.useReducer(_,V),2),E=C[0],A=C[1],L=E.isFocused,K=E.isFileDialogActive,X=E.draggedFiles,q=t.useCallback((function(){z.current&&(A({type:"openDialog"}),z.current.value=null,z.current.click())}),[A]);function W(e){I.current&&I.current.contains(e.target)||(e.preventDefault(),Q.current=[])}t.useEffect((function(){return window.addEventListener("focus",e,!1),function(){window.removeEventListener("focus",e,!1)}}),[z,K,O]);var G=t.useCallback((function(e){I.current&&I.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),q()))}),[I,z]),$=t.useCallback((function(){A({type:"focus"})}),[]),J=t.useCallback((function(){A({type:"blur"})}),[]),Y=t.useCallback((function(){w||(function(e){var t,n=0<arguments.length&&void 0!==e?e:window.navigator.userAgent;return-1!==(t=n).indexOf("MSIE")||-1!==t.indexOf("Trident/")||-1!==n.indexOf("Edge/")}()?setTimeout(q,0):q())}),[z,w]),Q=t.useRef([]);function Z(e){return a?null:e}function ee(e){return D?null:Z(e)}function te(e){return S?null:Z(e)}t.useEffect((function(){return F&&(document.addEventListener("dragover",U,!1),document.addEventListener("drop",W,!1)),function(){F&&(document.removeEventListener("dragover",U),document.removeEventListener("drop",W))}}),[I,F]);var ne,re,ie,ae,oe,le,ce,se=t.useCallback((function(e){e.preventDefault(),e.persist(),pe(e),Q.current=[].concat(f(Q.current),[e.target]),T(e)&&Promise.resolve(l(e)).then((function(t){R(e)&&!k||(A({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),v&&v(e))}))}),[l,v,k]),ue=t.useCallback((function(e){if(e.preventDefault(),e.persist(),pe(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return T(e)&&h&&h(e),!1}),[h,k]),fe=t.useCallback((function(e){e.preventDefault(),e.persist(),pe(e);var t=Q.current.filter((function(e){return I.current&&I.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),0<(Q.current=t).length||(A({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),T(e)&&b&&b(e))}),[I,b,k]),de=t.useCallback((function(e){e.preventDefault(),e.persist(),pe(e),Q.current=[],T(e)&&Promise.resolve(l(e)).then((function(t){var n,r;R(e)&&!k||(n=[],r=[],t.forEach((function(e){var t,a=u(M(e,i),2),o=a[0],l=a[1],c=u(B(e,p,d),2),s=c[0],f=c[1];o&&s?n.push(e):(t=[l,f].filter((function(e){return e})),r.push({file:e,errors:t}))})),(!g&&1<n.length||g&&1<=m&&n.length>m)&&(n.forEach((function(e){r.push({file:e,errors:[P]})})),n.splice(0)),A({acceptedFiles:n,fileRejections:r,type:"setFiles"}),y&&y(n,r,e),0<r.length&&x&&x(r,e),0<n.length&&j&&j(n,e))})),A({type:"reset"})}),[g,i,p,d,m,l,y,j,x,k]),pe=function(e){k&&e.stopPropagation()},ge=t.useMemo((function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,i=e.onFocus,l=e.onBlur,u=e.onClick,f=e.onDragEnter,d=e.onDragOver,p=e.onDragLeave,g=e.onDrop,m=s(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return c(c(o({onKeyDown:ee(N(r,G)),onFocus:ee(N(i,$)),onBlur:ee(N(l,J)),onClick:Z(N(u,Y)),onDragEnter:te(N(f,se)),onDragOver:te(N(d,ue)),onDragLeave:te(N(p,fe)),onDrop:te(N(g,de))},n,I),a||D?{}:{tabIndex:0}),m)}}),[I,G,$,J,Y,se,ue,fe,de,D,S,a]),me=t.useCallback((function(e){e.stopPropagation()}),[]),ve=t.useMemo((function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,a=e.onClick,l=s(e,["refKey","onChange","onClick"]);return c(c({},o({accept:i,multiple:g,type:"file",style:{display:"none"},onChange:Z(N(r,de)),onClick:Z(N(a,me)),autoComplete:"off",tabIndex:-1},n,z)),l)}}),[z,i,g,de,a]),be=X.length,he=0<be&&(re=(ne={files:X,accept:i,minSize:p,maxSize:d,multiple:g,maxFiles:m}).files,ie=ne.accept,ae=ne.minSize,oe=ne.maxSize,le=ne.multiple,ce=ne.maxFiles,!(!le&&1<re.length||le&&1<=ce&&re.length>ce)&&re.every((function(e){var t=u(M(e,ie),1)[0],n=u(B(e,ae,oe),1)[0];return t&&n}))),ye=0<be&&!he;return c(c({},E),{},{isDragAccept:he,isDragReject:ye,isFocused:L&&!a,getRootProps:ge,getInputProps:ve,rootRef:I,inputRef:z,open:Z(q)})}function _(e,t){switch(t.type){case"focus":return c(c({},e),{},{isFocused:!0});case"blur":return c(c({},e),{},{isFocused:!1});case"openDialog":return c(c({},e),{},{isFileDialogActive:!0});case"closeDialog":return c(c({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return c(c({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return c(c({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return c(c({},e),{},{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}e.default=K,e.useDropzone=X,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(25))},3868:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return me}));var r,i=n(17),a=n(6),o=n(9),l=n(7),c=n(8),s=n(214),u=n.n(s),f=n(39),d=n.n(f),p=n(0),g=n.n(p),m=n(20),v=n(188),b=n(42);!function(e){e.Gigabyte="gb",e.Megabyte="mb",e.Kilobyte="kb",e.Byte="b"}(r||(r={}));var h=Object(b.g)()?1024:1e3,y=[r.Gigabyte,r.Megabyte,r.Kilobyte,r.Byte],j=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(n||(n=r.Byte),i<0&&(i=0),t<0)throw new Error("Size must be greater than or equal to 0");var a=y.indexOf(n),o=t/h;return a&&t>h/2?e(o,y[a-1],i):"".concat(t.toFixed(i)).concat(n.toUpperCase())},x=n(137),O=n(138),F=n(69),w=n(10),D=n(3854),S=n.n(D),k=n(30),I=n(23),z=n(13),C=n.n(z);var E=C()("section",{target:"exg6vvm0"})((function(e){var t=e.isDisabled,n=e.theme;return{display:"flex",alignItems:"center",padding:n.spacing.lg,backgroundColor:n.colors.secondaryBg,borderRadius:n.radii.md,":focus":{outline:"none",boxShadow:"0 0 0 1px ".concat(n.colors.primary)},color:t?n.colors.gray:n.colors.bodyText}}),""),A=C()("div",{target:"exg6vvm1"})((function(e){e.theme;return{marginRight:"auto",alignItems:"center",display:"flex"}}),""),P=C()("span",{target:"exg6vvm2"})((function(e){var t=e.theme;return{color:t.colors.darkenedBgMix60,marginRight:t.spacing.lg}}),""),M=C()("span",{target:"exg6vvm3"})((function(e){return{marginBottom:e.theme.spacing.twoXS}}),""),B=C()("div",{target:"exg6vvm4"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),L=C()("div",{target:"exg6vvm5"})((function(e){var t=e.theme;return{left:0,right:0,lineHeight:t.lineHeights.tight,paddingTop:t.spacing.md,paddingLeft:t.spacing.lg,paddingRight:t.spacing.lg}}),""),R=C()("ul",{target:"exg6vvm6"})((function(e){e.theme;return{listStyleType:"none",marginBottom:0}}),""),T=C()("li",{target:"exg6vvm7"})((function(e){var t=e.theme;return{margin:t.spacing.none,padding:t.spacing.none}}),""),U=C()("div",{target:"exg6vvm8"})((function(e){return{display:"flex",alignItems:"baseline",flex:1,paddingLeft:e.theme.spacing.lg,overflow:"hidden"}}),""),N=C()("div",{target:"exg6vvm9"})((function(e){var t=e.theme;return{marginRight:t.spacing.sm,marginBottom:t.spacing.twoXS,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}),""),K=C()("div",{target:"exg6vvm10"})((function(e){return{display:"flex",alignItems:"center",marginBottom:e.theme.spacing.twoXS}}),""),H=C()("span",{target:"exg6vvm11"})((function(e){return{marginRight:e.theme.spacing.twoXS}}),""),V=C()("div",{target:"exg6vvm12"})((function(e){var t=e.theme;return{display:"flex",padding:t.spacing.twoXS,color:t.colors.darkenedBgMix60}}),""),X=C()("small",{target:"exg6vvm13"})((function(e){var t=e.theme;return{color:t.colors.danger,fontSize:t.fontSizes.sm,height:t.fontSizes.sm,lineHeight:t.fontSizes.sm,display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),""),_=C()("span",{target:"exg6vvm14"})({name:"0",styles:""}),q=function(e){var t;return t={},Object(I.a)(t,E,{display:"flex",flexDirection:"column",alignItems:"flex-start"}),Object(I.a)(t,A,{marginBottom:e.spacing.lg}),Object(I.a)(t,P,{display:"none"}),Object(I.a)(t,L,{paddingRight:e.spacing.lg}),Object(I.a)(t,K,{maxWidth:"inherit",flex:1,alignItems:"flex-start",marginBottom:e.spacing.sm}),Object(I.a)(t,N,{width:e.sizes.full}),Object(I.a)(t,U,{flexDirection:"column"}),Object(I.a)(t,X,{height:"auto",whiteSpace:"initial"}),Object(I.a)(t,_,{display:"none"}),Object(I.a)(t,T,{margin:e.spacing.none,padding:e.spacing.none}),t},W=C()("div",{target:"exg6vvm15"})((function(e){var t=e.theme;return t.inSidebar?q(t):Object(I.a)({},"@media (max-width: ".concat(t.breakpoints.sm,")"),q(t))}),""),G=n(176),$=n(70),J=n(310),Y=n(5),Q=function(e){var t=e.multiple,n=e.acceptedExtensions,i=e.maxSizeBytes;return Object(Y.jsxs)(A,{children:[Object(Y.jsx)(P,{children:Object(Y.jsx)($.a,{content:G.CloudUpload,size:"threeXL"})}),Object(Y.jsxs)(B,{children:[Object(Y.jsxs)(M,{children:["Drag and drop file",t?"s":""," here"]}),Object(Y.jsxs)(J.a,{children:["Limit ".concat(j(i,r.Byte,0)," per file"),n.length?" \u2022 ".concat(n.join(", ").replace(/\./g,"").toUpperCase()):null]})]})]})},Z=function(e){var t=e.onDrop,n=e.multiple,r=e.acceptedExtensions,i=e.maxSizeBytes,a=e.disabled;return Object(Y.jsx)(S.a,{onDrop:t,multiple:n,accept:r.length?r:void 0,maxSize:i,disabled:a,children:function(e){var t=e.getRootProps,o=e.getInputProps;return Object(Y.jsxs)(E,Object(w.a)(Object(w.a)({},t()),{},{"data-testid":"stFileUploadDropzone",isDisabled:a,children:[Object(Y.jsx)("input",Object(w.a)({},o())),Object(Y.jsx)(Q,{multiple:n,acceptedExtensions:r,maxSizeBytes:i}),Object(Y.jsx)(k.d,{kind:k.b.PRIMARY,disabled:a,size:k.c.SMALL,children:"Browse files"})]}))}})},ee=n(22),te=n(58),ne=n(117),re=n.n(ne),ie=C()("div",{target:"e1f8s2qs0"})((function(e){var t=e.theme;return{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:t.spacing.twoXS,marginBottom:t.spacing.twoXS}}),""),ae=C()("div",{target:"e1f8s2qs1"})((function(e){return{display:"flex",alignItems:"center",justifyContent:"center",color:e.theme.colors.fadedText40}}),""),oe=function(e){var t=e.className,n=e.currentPage,r=e.totalPages,i=e.onNext,a=e.onPrevious;return Object(Y.jsxs)(ie,{className:t,children:[Object(Y.jsx)(J.a,{children:"Showing page ".concat(n," of ").concat(r)}),Object(Y.jsxs)(ae,{children:[Object(Y.jsx)(k.d,{onClick:a,kind:k.b.MINIMAL,children:Object(Y.jsx)($.a,{content:G.ChevronLeft,size:"xl"})}),Object(Y.jsx)(k.d,{onClick:i,kind:k.b.MINIMAL,children:Object(Y.jsx)($.a,{content:G.ChevronRight,size:"xl"})})]})]})},le=function(e,t){return Math.ceil(e.length/t)},ce=function(e){return re()((function(t){var n=t.pageSize,r=t.items,i=t.resetOnAdd,a=Object(te.a)(t,["pageSize","items","resetOnAdd"]),o=Object(p.useState)(0),l=Object(ee.a)(o,2),c=l[0],s=l[1],u=Object(p.useState)(le(r,n)),f=Object(ee.a)(u,2),d=f[0],g=f[1],m=function(e){var t=Object(p.useRef)();return Object(p.useEffect)((function(){t.current=e}),[e]),t.current}(r);Object(p.useEffect)((function(){m&&m.length!==r.length&&g(le(r,n)),m&&m.length<r.length?i&&s(0):c+1>=d&&s(d-1)}),[r,c,n,m,i,d]);var v=r.slice(c*n,c*n+n);return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(e,Object(w.a)({items:v},a)),r.length>n?Object(Y.jsx)(oe,{className:"streamlit-paginator",pageSize:n,totalPages:d,currentPage:c+1,onNext:function(){s(Math.min(c+1,d-1))},onPrevious:function(){s(Math.max(0,c-1))}}):null]})}),e)},se=n(316),ue=function(e){var t=e.fileInfo;return"uploading"===t.status.type?Object(Y.jsx)(se.b,{value:t.status.progress,size:se.a.SMALL,overrides:{Bar:{style:{marginLeft:0,marginTop:"4px"}}}}):"error"===t.status.type?Object(Y.jsxs)(X,{children:[Object(Y.jsx)(H,{"data-testid":"stUploadedFileErrorMessage",children:t.status.errorMessage}),Object(Y.jsx)(_,{children:Object(Y.jsx)($.a,{content:G.Error,size:"lg"})})]}):"uploaded"===t.status.type?Object(Y.jsx)(J.a,{children:j(t.size,r.Byte)}):null},fe=function(e){var t=e.fileInfo,n=e.onDelete;return Object(Y.jsxs)(K,{className:"uploadedFile",children:[Object(Y.jsx)(V,{children:Object(Y.jsx)($.a,{content:G.InsertDriveFile,size:"twoXL"})}),Object(Y.jsxs)(U,{className:"uploadedFileData",children:[Object(Y.jsx)(N,{className:"uploadedFileName",title:t.name,children:t.name}),Object(Y.jsx)(ue,{fileInfo:t})]}),Object(Y.jsx)("div",{"data-testid":"fileDeleteBtn",children:Object(Y.jsx)(k.d,{onClick:function(){return n(t.id)},kind:k.b.MINIMAL,children:Object(Y.jsx)($.a,{content:G.Clear,size:"lg"})})})]})},de=ce((function(e){var t=e.items,n=e.onDelete;return Object(Y.jsx)(R,{children:t.map((function(e){return Object(Y.jsx)(T,{children:Object(Y.jsx)(fe,{fileInfo:e,onDelete:n})},e.id)}))})})),pe=function(e){return Object(Y.jsx)(L,{children:Object(Y.jsx)(de,Object(w.a)({},e))})},ge=function(){function e(t,n,r,i){Object(a.a)(this,e),this.name=void 0,this.size=void 0,this.status=void 0,this.id=void 0,this.name=t,this.size=n,this.id=r,this.status=i}return Object(o.a)(e,[{key:"setStatus",value:function(t){return new e(this.name,this.size,this.id,t)}}]),e}(),me=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).formClearHelper=new v.b,o.localFileIdCounter=1,o.componentDidUpdate=function(e){var t=o.props,n=t.element,r=t.widgetMgr;if(e.disabled!==o.props.disabled&&o.props.disabled)return o.reset(),void r.setFileUploaderStateValue(n,new m.h,{fromUi:!1});if("ready"===o.status){var i=o.createWidgetValue();if(void 0!==i){var a=r.getFileUploaderStateValue(n);d.a.isEqual(i,a)||r.setFileUploaderStateValue(n,i,{fromUi:!0})}}},o.reset=function(){o.setState({files:[]})},o.dropHandler=function(e,t){var n=o.props.element.multipleFiles;if(!n&&0===e.length&&t.length>1){var r=t.findIndex((function(e){return 1===e.errors.length&&"too-many-files"===e.errors[0].code}));r>=0&&(e.push(t[r].file),t.splice(r,1))}if(!n&&e.length>0&&o.state.files.length>0&&o.removeFile(o.state.files[0].id),e.forEach(o.uploadFile),t.length>0){var i=t.map((function(e){var t=e.file;return new ge(t.name,t.size,o.nextLocalFileId(),{type:"error",errorMessage:o.getErrorMessage(e.errors[0].code,e.file)})}));o.addFiles(i)}},o.uploadFile=function(e){var t=u.a.CancelToken.source(),n=new ge(e.name,e.size,o.nextLocalFileId(),{type:"uploading",cancelToken:t,progress:1});o.addFile(n),o.props.uploadClient.uploadFile(o.props.element,e,(function(e){return o.onUploadProgress(e,n.id)}),t.token).then((function(e){return o.onUploadComplete(n.id,e)})).catch((function(e){u.a.isCancel(e)||o.updateFile(n.id,n.setStatus({type:"error",errorMessage:e?e.toString():"Unknown error"}))}))},o.onUploadComplete=function(e,t){o.setState((function(e){return{newestServerFileId:Math.max(e.newestServerFileId,t)}}));var n=o.getFile(e);null!=n&&"uploading"===n.status.type&&o.updateFile(n.id,n.setStatus({type:"uploaded",serverFileId:t}))},o.getErrorMessage=function(e,t){switch(e){case"file-too-large":return"File must be ".concat(j(o.maxUploadSizeInBytes,r.Byte)," or smaller.");case"file-invalid-type":return"".concat(t.type," files are not allowed.");case"file-too-small":return"File size is too small.";case"too-many-files":return"Only one file is allowed.";default:return"Unexpected error. Please try again."}},o.deleteFile=function(e){var t=o.getFile(e);null!=t&&("uploading"===t.status.type&&t.status.cancelToken.cancel(),o.removeFile(e))},o.addFile=function(e){o.setState((function(t){return{files:[].concat(Object(i.a)(t.files),[e])}}))},o.addFiles=function(e){o.setState((function(t){return{files:[].concat(Object(i.a)(t.files),Object(i.a)(e))}}))},o.removeFile=function(e){o.setState((function(t){return{files:t.files.filter((function(t){return t.id!==e}))}}))},o.getFile=function(e){return o.state.files.find((function(t){return t.id===e}))},o.updateFile=function(e,t){o.setState((function(n){return{files:n.files.map((function(n){return n.id===e?t:n}))}}))},o.onUploadProgress=function(e,t){var n=o.getFile(t);if(null!=n&&"uploading"===n.status.type){var r=Math.round(100*e.loaded/e.total);n.status.progress!==r&&o.updateFile(t,n.setStatus({type:"uploading",cancelToken:n.status.cancelToken,progress:r}))}},o.onFormCleared=function(){o.setState({files:[]},(function(){var e=o.createWidgetValue();null!=e&&o.props.widgetMgr.setFileUploaderStateValue(o.props.element,e,{fromUi:!0})}))},o.render=function(){var e=o.state.files,t=o.props,n=t.element,r=t.disabled,i=t.widgetMgr,a=n.type;o.formClearHelper.manageFormClearListener(i,n.formId,o.onFormCleared);var l=e.slice().reverse();return Object(Y.jsxs)(W,{"data-testid":"stFileUploader",children:[Object(Y.jsx)(x.d,{label:n.label,children:n.help&&Object(Y.jsx)(x.b,{children:Object(Y.jsx)(O.a,{content:n.help,placement:F.b.TOP_RIGHT})})}),Object(Y.jsx)(Z,{onDrop:o.dropHandler,multiple:n.multipleFiles,acceptedExtensions:a,maxSizeBytes:o.maxUploadSizeInBytes,disabled:r}),l.length>0&&Object(Y.jsx)(pe,{items:l,pageSize:3,onDelete:o.deleteFile,resetOnAdd:!0})]})},o.state=o.initialValue,o}return Object(o.a)(n,[{key:"initialValue",get:function(){var e=this,t={files:[],newestServerFileId:0},n=this.props,r=n.widgetMgr,i=n.element,a=r.getFileUploaderStateValue(i);if(null==a)return t;var o=a.maxFileId,l=a.uploadedFileInfo;return null==o||0===o||null==l?t:{files:l.map((function(t){var n=t.name,r=t.size,i=t.id;return new ge(n,r,e.nextLocalFileId(),{type:"uploaded",serverFileId:i})})),newestServerFileId:Number(o)}}},{key:"componentWillUnmount",value:function(){this.formClearHelper.disconnect()}},{key:"maxUploadSizeInBytes",get:function(){return function(e,t,n){if(e<0)throw Error("Size must be 0 or greater");var r=y.findIndex((function(e){return e===t})),i=y.findIndex((function(e){return e===n}));if(-1===r||-1===i)throw Error("Unexpected byte unit provided");if(r===i)return e;var a=Math.abs(r-i),o=Math.pow(h,a);return r>i?e/o:e*o}(this.props.element.maxUploadSizeMb,r.Megabyte,r.Byte)}},{key:"status",get:function(){return this.state.files.some((function(e){return"uploading"===e.status.type}))?"updating":"ready"}},{key:"createWidgetValue",value:function(){if(0!==this.state.newestServerFileId){var e=this.state.files.filter((function(e){return"uploaded"===e.status.type})).map((function(e){var t=e.name,n=e.size,r=e.status;return new m.u({id:r.serverFileId,name:t,size:n})}));return new m.h({maxFileId:this.state.newestServerFileId,uploadedFileInfo:e})}}},{key:"nextLocalFileId",value:function(){return this.localFileIdCounter++}}]),n}(g.a.PureComponent)}}]);